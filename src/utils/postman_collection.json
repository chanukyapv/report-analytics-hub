
{
  "info": {
    "_postman_id": "89a92c54-5f28-4e95-8db1-dde8c3594b28",
    "name": "QLA1 Dashboard API",
    "description": "API collection for the QLA1 Dashboard application",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Authentication endpoints",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation Login($input: LoginInput!) {\n  login(input: $input) {\n    token\n    user {\n      id\n      email\n      name\n      role\n      roles\n      is_active\n    }\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"email\": \"{{email}}\",\n    \"password\": \"{{password}}\"\n  }\n}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation Register($input: RegisterInput!) {\n  register(input: $input) {\n    token\n    user {\n      id\n      email\n      name\n      role\n      roles\n      is_active\n    }\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"email\": \"{{newUserEmail}}\",\n    \"password\": \"{{newUserPassword}}\",\n    \"name\": \"{{newUserName}}\"\n  }\n}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query {\n  me {\n    id\n    email\n    name\n    role\n    roles\n    is_active\n  }\n}",
                "variables": "{}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Management",
      "description": "User management endpoints (superadmin only)",
      "item": [
        {
          "name": "Update User Roles",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{superadminToken}}"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation UpdateUserRoles($userId: ID!, $roles: [String!]!) {\n  updateUserRoles(userId: $userId, roles: $roles) {\n    id\n    email\n    name\n    role\n    roles\n    is_active\n  }\n}",
                "variables": "{\n  \"userId\": \"{{userId}}\",\n  \"roles\": [\"user\", \"admin\"]\n}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reports",
      "description": "Report endpoints",
      "item": [
        {
          "name": "Get Reports",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query GetReports {\n  weeklyReports {\n    id\n    title\n    week_date\n    fy_config {\n      id\n      fy_name\n    }\n    metrics {\n      id\n      metric_name\n    }\n    summary\n    created_at\n    updated_at\n  }\n}",
                "variables": "{}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Report by ID",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query GetReport($id: ID!) {\n  weeklyReport(id: $id) {\n    id\n    title\n    week_date\n    fy_config {\n      id\n      fy_name\n    }\n    metrics {\n      id\n      metric_name\n      current_value\n      previous_value\n      target_value\n      is_higher_better\n      metric_status\n      notes\n    }\n    summary\n    created_at\n    updated_at\n  }\n}",
                "variables": "{\n  \"id\": \"{{reportId}}\"\n}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Metrics",
      "description": "Metric endpoints",
      "item": [
        {
          "name": "Get Metrics",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query GetMetrics {\n  metrics {\n    id\n    metric_name\n    description\n    unit\n    is_higher_better\n    target_value\n    created_at\n    updated_at\n  }\n}",
                "variables": "{}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "IndusIT Dashboard",
      "description": "IndusIT Dashboard endpoints",
      "item": [
        {
          "name": "Get Automations",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query GetAutomations {\n  automations {\n    id\n    apaid\n    automation_name\n    description\n    service_name\n    technology\n    infra_server\n    avg_execution_time\n    last_successful_execution\n    status\n    frequency\n  }\n}",
                "variables": "{}"
              }
            },
            "url": {
              "raw": "{{apiUrl}}/graphql",
              "host": [
                "{{apiUrl}}"
              ],
              "path": [
                "graphql"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
